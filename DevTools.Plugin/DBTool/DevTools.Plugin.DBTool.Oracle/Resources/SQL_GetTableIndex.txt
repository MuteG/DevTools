-- 0ÅFï\ñº
SELECT
    ROWNUM              AS "IndexId"
    , AIDX.INDEX_NAME   AS "IndexName"
    , AICOL.COLUMN_NAME AS "ColumnName"
    , CASE AICOL.DESCEND
      WHEN 'Y' THEN 'DESC'
      WHEN 'N' THEN 'ASC'
      ELSE 'ASC' END    AS "Sort"
    , CASE 
      WHEN ACON.CONSTRAINT_TYPE = 'P' AND AIDX.UNIQUENESS = 'UNIQUE' THEN 'PK'
      ELSE '' END       AS "PrimaryKey"
    , CASE AIDX.STATUS
      WHEN 'UNUSABLE' THEN 'TRUE'
      WHEN 'VALID' THEN 'FALSE'
      ELSE 'FALSE' END  AS "Disabled"
FROM
    ALL_INDEXES AIDX
INNER JOIN
    ALL_TABLES ATBL
ON
    ATBL.OWNER           = AIDX.TABLE_OWNER
    AND ATBL.TABLE_NAME  = AIDX.TABLE_NAME
LEFT JOIN
    ALL_IND_COLUMNS AICOL
ON
    AICOL.INDEX_OWNER     = AIDX.OWNER
    AND AICOL.INDEX_NAME  = AIDX.INDEX_NAME
    AND AICOL.TABLE_OWNER = AIDX.TABLE_OWNER
    AND AICOL.TABLE_NAME  = AIDX.TABLE_NAME
LEFT JOIN
    ALL_CONS_COLUMNS ACCOL
ON
    ACCOL.OWNER           = AICOL.INDEX_OWNER
    AND ACCOL.TABLE_NAME  = AICOL.TABLE_NAME
    AND ACCOL.COLUMN_NAME = AICOL.COLUMN_NAME
LEFT JOIN
    ALL_CONSTRAINTS ACON
ON
    ACON.OWNER               = ACCOL.OWNER
    AND ACON.TABLE_NAME      = ACCOL.TABLE_NAME
    AND ACON.CONSTRAINT_NAME = ACCOL.CONSTRAINT_NAME
WHERE
    ATBL.TABLESPACE_NAME IS NOT NULL
    AND ATBL.TABLESPACE_NAME <> 'SYSTEM'
    AND ATBL.TABLESPACE_NAME <> 'SYSAUX'
    ATBL.TABLE_NAME          = '{0}'
    AND AIDX.INDEX_TYPE      = 'NORMAL'
    AND ACCOL.POSITION IS NOT NULL
ORDER BY
    AIDX.INDEX_NAME
    , AICOL.COLUMN_POSITION